const e=document.querySelector(".js-guard");let t=new IntersectionObserver((function(t,c){t.forEach((t=>{t.isIntersecting&&(n+=1,s(n).then((t=>{r.insertAdjacentHTML("beforeend",o(t.results)),t.page===t.total_pages&&c.unobserve(e)})).catch(console.error()))}))}),{root:null,rootMargin:"200px",threshold:1});const r=document.querySelector(".js-list");let n=1;function o(e){return e.map((({poster_path:e,title:t})=>`\n      <li>\n        <img src="https://image.tmdb.org/t/p/w400${e}" alt="${t}" />\n        <h2>${t}</h2>\n      </li>`)).join("")}function s(e=1){return fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=345007f9ab440e5b86cef51be6397df1&page=${e}`).then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()}))}s().then((n=>{r.insertAdjacentHTML("beforeend",o(n.results)),t.observe(e)})).catch(console.error());
//# sourceMappingURL=index.d0dba509.js.map
